<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:SportowyHub.ViewModels"
             xmlns:res="clr-namespace:SportowyHub.Resources.Strings"
             x:Class="SportowyHub.Views.Auth.EmailVerificationPage"
             x:DataType="vm:EmailVerificationViewModel"
             Title="{x:Static res:AppResources.EmailVerificationTitle}"
             Shell.TabBarIsVisible="False">

    <ScrollView>
        <VerticalStackLayout Padding="24" Spacing="16" VerticalOptions="Center">

            <!-- Mail Icon -->
            <Image Source="icon_email.svg"
                   HeightRequest="80"
                   WidthRequest="80"
                   HorizontalOptions="Center"
                   Margin="0,0,0,8" />

            <!-- Title -->
            <Label Text="{x:Static res:AppResources.EmailVerificationTitle}"
                   Style="{StaticResource Headline}"
                   HorizontalTextAlignment="Center"
                   HorizontalOptions="Center" />

            <!-- Description with email -->
            <Label Text="{Binding Description}"
                   HorizontalTextAlignment="Center"
                   FontSize="14"
                   TextColor="{AppThemeBinding Light={StaticResource TextSecondary}, Dark={StaticResource TextSecondaryDark}}"
                   HorizontalOptions="Center"
                   Margin="0,0,0,16" />

            <!-- Status Message -->
            <Label Text="{Binding StatusMessage}"
                   FontSize="13"
                   HorizontalTextAlignment="Center"
                   IsVisible="{Binding StatusMessage.Length, Converter={StaticResource IntToBoolConverter}}"
                   Margin="0,0,0,8">
                <Label.Triggers>
                    <DataTrigger TargetType="Label" Binding="{Binding IsStatusError}" Value="True">
                        <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource Error}, Dark={StaticResource ErrorDark}}" />
                    </DataTrigger>
                    <DataTrigger TargetType="Label" Binding="{Binding IsStatusError}" Value="False">
                        <Setter Property="TextColor" Value="{StaticResource Success}" />
                    </DataTrigger>
                </Label.Triggers>
            </Label>

            <!-- Loading Indicator -->
            <ActivityIndicator IsRunning="{Binding IsLoading}"
                               IsVisible="{Binding IsLoading}"
                               Color="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />

            <!-- Resend Button -->
            <Button Text="{x:Static res:AppResources.EmailVerificationResend}"
                    Style="{StaticResource PrimaryButton}"
                    Command="{Binding ResendCommand}"
                    HorizontalOptions="Fill" />

            <!-- Back to Login -->
            <Button Text="{x:Static res:AppResources.EmailVerificationBackToLogin}"
                    TextColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}"
                    FontSize="14"
                    FontFamily="OpenSansSemibold"
                    BackgroundColor="Transparent"
                    BorderWidth="0"
                    Command="{Binding BackToLoginCommand}"
                    HorizontalOptions="Center"
                    Margin="0,8,0,0" />

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
